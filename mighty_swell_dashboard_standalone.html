<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mighty Swell - Nielsen Dashboard</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://unpkg.com/recharts@2.5.0/dist/Recharts.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif; }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script type="text/babel">
    const { useState } = React;
    const { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, Cell, PieChart, Pie, Legend } = Recharts;

    // Lucide React icons as SVG components
    const DollarSign = ({ className, size = 24 }) => (
      <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <line x1="12" y1="1" x2="12" y2="23"></line>
        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
      </svg>
    );

    const Store = ({ className, size = 24 }) => (
      <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7"></path>
        <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"></path>
        <path d="M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4"></path>
        <path d="M2 7h20"></path>
        <path d="M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7"></path>
      </svg>
    );

    const Building2 = ({ className, size = 24 }) => (
      <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z"></path>
        <path d="M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2"></path>
        <path d="M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2"></path>
        <path d="M10 6h4"></path>
        <path d="M10 10h4"></path>
        <path d="M10 14h4"></path>
        <path d="M10 18h4"></path>
      </svg>
    );

    const ShoppingCart = ({ className, size = 24 }) => (
      <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <circle cx="8" cy="21" r="1"></circle>
        <circle cx="19" cy="21" r="1"></circle>
        <path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"></path>
      </svg>
    );

    const MapPin = ({ className, size = 24 }) => (
      <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"></path>
        <circle cx="12" cy="10" r="3"></circle>
      </svg>
    );

    const TrendingUp = ({ className, size = 24 }) => (
      <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
        <polyline points="17 6 23 6 23 12"></polyline>
      </svg>
    );

    const TrendingDown = ({ className, size = 24 }) => (
      <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <polyline points="23 18 13.5 8.5 8.5 13.5 1 6"></polyline>
        <polyline points="17 18 23 18 23 12"></polyline>
      </svg>
    );

    const Calendar = ({ className, size = 24 }) => (
      <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
        <line x1="16" y1="2" x2="16" y2="6"></line>
        <line x1="8" y1="2" x2="8" y2="6"></line>
        <line x1="3" y1="10" x2="21" y2="10"></line>
      </svg>
    );

    const Package = ({ className, size = 24 }) => (
      <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
        <path d="m7.5 4.27 9 5.15"></path>
        <path d="M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"></path>
        <path d="m3.3 7 8.7 5 8.7-5"></path>
        <path d="M12 22V12"></path>
      </svg>
    );

    const MightSwellDashboard = () => {
      const [activePage, setActivePage] = useState('overview');
      const [timePeriod, setTimePeriod] = useState('52');

      // Data by time period
      const periodData = {
        '4': {
          totalSales: 192713,
          totalYoYChange: -0.3632,
          channelData: [
            { name: 'FMCG', value: 89630, change: -0.356, percentage: 46.5, color: '#0ea5e9' },
            { name: 'Liquor', value: 77836, change: -0.436, percentage: 40.4, color: '#8b5cf6' },
            { name: 'Convenience', value: 25088, change: 0.215, percentage: 13.0, color: '#10b981' }
          ],
          productData: [
            { name: 'Variety Pack', fmcg: 87, liquor: 74, convenience: 27, total: 188 },
            { name: 'Cherry Lime', fmcg: 1, liquor: 2, convenience: 0, total: 3 },
            { name: 'Black Cherry', fmcg: 0, liquor: 0, convenience: 0, total: 1 }
          ],
          stateData: [
            { name: 'FL', fullName: 'Florida', sales: 59041, change: -0.028 },
            { name: 'TX', fullName: 'Texas', sales: 44891, change: 0.028 },
            { name: 'NC', fullName: 'North Carolina', sales: 18752, change: -0.247 },
            { name: 'NJ', fullName: 'New Jersey', sales: 15439, change: -0.423 },
            { name: 'IL', fullName: 'Illinois', sales: 7843, change: -0.354 },
            { name: 'OH', fullName: 'Ohio', sales: 7362, change: -0.482 },
            { name: 'WI', fullName: 'Wisconsin', sales: 3604, change: -0.358 }
          ]
        },
        '52': {
          totalSales: 3136538,
          totalYoYChange: -0.4228,
          channelData: [
            { name: 'FMCG', value: 1460210, change: -0.356, percentage: 46.5, color: '#0ea5e9' },
            { name: 'Liquor', value: 1267807, change: -0.436, percentage: 40.4, color: '#8b5cf6' },
            { name: 'Convenience', value: 408369, change: 0.215, percentage: 13.0, color: '#10b981' }
          ],
          productData: [
            { name: 'Variety Pack', fmcg: 1420, liquor: 1200, convenience: 435, total: 3055 },
            { name: 'Cherry Lime', fmcg: 23, liquor: 28, convenience: 8, total: 59 },
            { name: 'Black Cherry', fmcg: 5, liquor: 6, convenience: 2, total: 13 }
          ],
          stateData: [
            { name: 'FL', fullName: 'Florida', sales: 961466, change: -0.028 },
            { name: 'TX', fullName: 'Texas', sales: 730984, change: 0.028 },
            { name: 'NC', fullName: 'North Carolina', sales: 305268, change: -0.247 },
            { name: 'NJ', fullName: 'New Jersey', sales: 251353, change: -0.423 },
            { name: 'IL', fullName: 'Illinois', sales: 127675, change: -0.354 },
            { name: 'OH', fullName: 'Ohio', sales: 119872, change: -0.482 },
            { name: 'WI', fullName: 'Wisconsin', sales: 58666, change: -0.358 }
          ]
        }
      };

      const currentData = periodData[timePeriod];
      const totalSales = currentData.totalSales;
      const totalYoYChange = currentData.totalYoYChange;
      const channelData = currentData.channelData;
      const productData = currentData.productData;
      const stateData = currentData.stateData.map(s => ({ ...s, salesK: Math.round(s.sales / 1000) }));

      const monthlyData = [
        { month: 'Jan', fmcg: 120, liquor: 105, convenience: 32 },
        { month: 'Feb', fmcg: 118, liquor: 102, convenience: 33 },
        { month: 'Mar', fmcg: 122, liquor: 108, convenience: 35 },
        { month: 'Apr', fmcg: 115, liquor: 100, convenience: 34 },
        { month: 'May', fmcg: 125, liquor: 110, convenience: 36 },
        { month: 'Jun', fmcg: 130, liquor: 115, convenience: 38 }
      ];

      const MetricCard = ({ title, value, change, icon: Icon }) => {
        const isPositive = change >= 0;
        const displayValue = value >= 1000000 
          ? `$${(value / 1000000).toFixed(2)}M`
          : `$${(value / 1000).toFixed(0)}K`;

        return React.createElement('div', { className: 'bg-white rounded-lg shadow-md p-5 flex flex-col' },
          React.createElement('div', { className: 'flex items-center justify-between mb-3' },
            React.createElement('h3', { className: 'text-sm font-medium text-gray-600' }, title),
            React.createElement(Icon, { className: 'text-gray-400', size: 20 })
          ),
          React.createElement('div', { className: 'text-3xl font-bold text-gray-900 mb-2' }, displayValue),
          React.createElement('div', { className: 'flex items-center' },
            React.createElement('div', { 
              className: `text-sm font-semibold px-2 py-1 rounded ${isPositive ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`
            },
              isPositive ? React.createElement(TrendingUp, { className: 'inline mr-1', size: 14 }) : React.createElement(TrendingDown, { className: 'inline mr-1', size: 14 }),
              `${Math.abs(change * 100).toFixed(1)}% vs Year-Ago`
            )
          )
        );
      };

      return (
        <div className="min-h-screen bg-gray-50">
          <div className="bg-white border-b border-gray-200 px-6 py-4">
            <div className="flex items-center justify-between">
              <div>
                <h1 className="text-2xl font-bold text-gray-900">Mighty Swell - Nielsen Market Performance</h1>
                <p className="text-sm text-gray-500">Period Ending: 01/03/2026</p>
              </div>
            </div>
          </div>

          <div className="bg-white border-b border-gray-200 px-6">
            <div className="flex gap-6">
              {['overview', 'regions', 'performance'].map(page => (
                <button 
                  key={page}
                  className={`py-3 px-1 border-b-2 font-medium text-sm capitalize ${
                    activePage === page 
                      ? 'border-blue-600 text-blue-600' 
                      : 'border-transparent text-gray-500 hover:text-gray-700'
                  }`}
                  onClick={() => setActivePage(page)}
                >
                  {page === 'overview' ? 'Executive Overview' : page === 'regions' ? 'Top Regions' : 'Performance Analysis'}
                </button>
              ))}
            </div>
          </div>

          <div className="bg-white border-b border-gray-200 px-6 py-4">
            <div className="flex items-center gap-4">
              <span className="text-sm font-medium text-gray-700">Time Period:</span>
              <div className="flex gap-2">
                {['4', '52'].map(period => (
                  <button
                    key={period}
                    onClick={() => setTimePeriod(period)}
                    className={`px-4 py-2 rounded-lg font-medium text-sm transition-all ${
                      timePeriod === period
                        ? 'bg-blue-600 text-white shadow-md'
                        : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                    }`}
                  >
                    {period} Weeks
                  </button>
                ))}
              </div>
            </div>
          </div>

          <div className="p-6">
            {activePage === 'overview' && (
              <div>
                <div className="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6">
                  <MetricCard title="Total Sales" value={totalSales} change={totalYoYChange} icon={DollarSign} />
                  <MetricCard title="FMCG Sales" value={channelData[0].value} change={channelData[0].change} icon={ShoppingCart} />
                  <MetricCard title="Liquor Sales" value={channelData[1].value} change={channelData[1].change} icon={Building2} />
                  <MetricCard title="Convenience Sales" value={channelData[2].value} change={channelData[2].change} icon={Store} />
                  <MetricCard title={`Top Market (${stateData[0].name})`} value={stateData[0].sales} change={stateData[0].change} icon={MapPin} />
                </div>

                <div className="bg-white rounded-lg shadow-md p-6">
                  <h2 className="text-lg font-bold text-gray-900 mb-4">Channel Performance Summary</h2>
                  <p className="text-gray-600">
                    Total {timePeriod}-week sales: <strong>${(totalSales / 1000000).toFixed(2)}M</strong> ({(totalYoYChange * 100).toFixed(1)}% vs YA)
                  </p>
                  <div className="mt-4 space-y-2">
                    {channelData.map((channel, i) => (
                      <div key={i} className="flex items-center justify-between p-3 bg-gray-50 rounded">
                        <span className="font-medium">{channel.name}</span>
                        <span className="text-gray-600">${(channel.value / 1000).toFixed(0)}K ({channel.percentage}%)</span>
                        <span className={channel.change >= 0 ? 'text-green-600' : 'text-red-600'}>
                          {(channel.change * 100).toFixed(1)}% vs YA
                        </span>
                      </div>
                    ))}
                  </div>
                </div>
              </div>
            )}

            {activePage === 'regions' && (
              <div className="bg-white rounded-lg shadow-md p-6">
                <h2 className="text-lg font-bold text-gray-900 mb-4">Top States ({timePeriod} Weeks)</h2>
                <table className="w-full">
                  <thead className="bg-gray-50 border-b">
                    <tr>
                      <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">State</th>
                      <th className="px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase">Sales</th>
                      <th className="px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase">YoY</th>
                    </tr>
                  </thead>
                  <tbody>
                    {stateData.map((state, i) => (
                      <tr key={i} className="border-b hover:bg-gray-50">
                        <td className="px-4 py-3 font-medium">{state.fullName}</td>
                        <td className="px-4 py-3 text-right">${state.salesK}K</td>
                        <td className="px-4 py-3 text-right">
                          <span className={`px-2 py-1 rounded text-xs ${state.change >= 0 ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>
                            {(state.change * 100).toFixed(1)}%
                          </span>
                        </td>
                      </tr>
                    ))}
                  </tbody>
                </table>
              </div>
            )}
          </div>

          <div className="bg-white border-t border-gray-200 px-6 py-3 text-center">
            <p className="text-xs text-gray-500">
              Data Source: Nielsen | {timePeriod} Week Total: ${(totalSales / 1000000).toFixed(2)}M
            </p>
          </div>
        </div>
      );
    };

    ReactDOM.render(React.createElement(MightSwellDashboard), document.getElementById('root'));
  </script>
</body>
</html>
